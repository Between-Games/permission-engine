// ╔═╗ ╔═╗  ╔═══════╗╔═╗   ╔═╗         ╔═══════╗╔═╗      ╔═══════╗╔═══════╗╔═══════╗   ╔═══════╗╔═══════╗╔═══════╗
// ║ ║ ║ ║  ║ ╔═════╝║ ║   ║ ║         ║ ╔═════╝║ ║      ║ ╔═══╗ ║║ ╔═════╝║ ╔═════╝   ║ ╔╗ ╔╗ ║╚═══╗ ╔═╝║ ╔═════╝
// ║ ╚═╝ ╚═╗║ ╚═════╗║ ╚═══╝ ║╔═══════╗║ ║      ║ ║      ║ ╚═══╝ ║║ ╚═════╗║ ╚═════╗   ║ ║║ ║║ ║    ║ ║  ║ ╚═════╗
// ║ ╔═══╗ ║║ ╔═════╝╚═════╗ ║╚═══════╝║ ║      ║ ║      ║ ╔═══╗ ║╚═════╗ ║╚═════╗ ║   ║ ║║ ║║ ║    ║ ║  ╚═════╗ ║
// ║ ║   ║ ║║ ╚═════╗╔═════╝ ║         ║ ╚═════╗║ ╚═════╗║ ║   ║ ║╔═════╝ ║╔═════╝ ║╔═╗║ ║║ ║║ ║╔═══╝ ║  ╔═════╝ ║
// ╚═╝   ╚═╝╚═══════╝╚═══════╝         ╚═══════╝╚═══════╝╚═╝   ╚═╝╚═══════╝╚═══════╝╚═╝╚═╝╚═╝╚═╝╚═════╝  ╚═══════╝

// ╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗
// ╚══╗ ╔══╝║ ╔╗ ╔╗ ║║ ╔═══╗ ║║ ╔═══╗ ║║ ╔═══╗ ║╚══╗ ╔══╝
//    ║ ║   ║ ║║ ║║ ║║ ╚═══╝ ║║ ║   ║ ║║ ╚═══╝ ║   ║ ║
//    ║ ║   ║ ║║ ║║ ║║ ╔═════╝║ ║   ║ ║║ ╔═╗ ╔═╝   ║ ║
// ╔══╝ ╚══╗║ ║║ ║║ ║║ ║      ║ ╚═══╝ ║║ ║ ║ ╚═╗   ║ ║
// ╚═══════╝╚═╝╚═╝╚═╝╚═╝      ╚═══════╝╚═╝ ╚═══╝   ╚═╝

import utilityEngine from '@s-a-r-c/utility-engine';

// ╔═══════╗╔═╗      ╔═══════╗╔═══════╗╔═══════╗
// ║ ╔═════╝║ ║      ║ ╔═══╗ ║║ ╔═════╝║ ╔═════╝
// ║ ║      ║ ║      ║ ╚═══╝ ║║ ╚═════╗║ ╚═════╗
// ║ ║      ║ ║      ║ ╔═══╗ ║╚═════╗ ║╚═════╗ ║
// ║ ╚═════╗║ ╚═════╗║ ║   ║ ║╔═════╝ ║╔═════╝ ║
// ╚═══════╝╚═══════╝╚═╝   ╚═╝╚═══════╝╚═══════╝

export default class Key {
    // ╔═══════╗╔═══════╗╔════╗╔═╗╔═══════╗╔═══════╗╔═══════╗╔═╗   ╔═╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗
    // ║ ╔═════╝║ ╔═══╗ ║║ ╔╗ ║║ ║║ ╔═════╝╚══╗ ╔══╝║ ╔═══╗ ║║ ║   ║ ║║ ╔═════╝╚══╗ ╔══╝║ ╔═══╗ ║║ ╔═══╗ ║
    // ║ ║      ║ ║   ║ ║║ ║║ ║║ ║║ ╚═════╗   ║ ║   ║ ╚═══╝ ║║ ║   ║ ║║ ║         ║ ║   ║ ║   ║ ║║ ╚═══╝ ║
    // ║ ║      ║ ║   ║ ║║ ║║ ║║ ║╚═════╗ ║   ║ ║   ║ ╔═╗ ╔═╝║ ║   ║ ║║ ║         ║ ║   ║ ║   ║ ║║ ╔═╗ ╔═╝
    // ║ ╚═════╗║ ╚═══╝ ║║ ║║ ╚╝ ║╔═════╝ ║   ║ ║   ║ ║ ║ ╚═╗║ ╚═══╝ ║║ ╚═════╗   ║ ║   ║ ╚═══╝ ║║ ║ ║ ╚═╗
    // ╚═══════╝╚═══════╝╚═╝╚════╝╚═══════╝   ╚═╝   ╚═╝ ╚═══╝╚═══════╝╚═══════╝   ╚═╝   ╚═══════╝╚═╝ ╚═══╝

    constructor(keyString) {
        this._keyString = keyString;
    }

    // ╔═══════╗╔═══════╗╔════╗╔═╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗
    // ║ ╔═════╝║ ╔═════╝║ ╔╗ ║║ ║║ ╔═════╝║ ╔═══╗ ║║ ╔═══╗ ║╚══╗ ╔══╝║ ╔═══╗ ║║ ╔═══╗ ║
    // ║ ║ ╔═══╗║ ╚═════╗║ ║║ ║║ ║║ ╚═════╗║ ╚═══╝ ║║ ╚═══╝ ║   ║ ║   ║ ║   ║ ║║ ╚═══╝ ║
    // ║ ║ ╚═╗ ║║ ╔═════╝║ ║║ ║║ ║║ ╔═════╝║ ╔═╗ ╔═╝║ ╔═══╗ ║   ║ ║   ║ ║   ║ ║║ ╔═╗ ╔═╝
    // ║ ╚═══╝ ║║ ╚═════╗║ ║║ ╚╝ ║║ ╚═════╗║ ║ ║ ╚═╗║ ║   ║ ║   ║ ║   ║ ╚═══╝ ║║ ║ ║ ╚═╗
    // ╚═══════╝╚═══════╝╚═╝╚════╝╚═══════╝╚═╝ ╚═══╝╚═╝   ╚═╝   ╚═╝   ╚═══════╝╚═╝ ╚═══╝

    getNodeGenerator(nodes = this.getNodes()) {
        return function* () {
            for (const node of nodes) yield node;
        };
    }

    // ╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗
    // ╚══╗ ╔══╝╚══╗ ╔══╝║ ╔═════╝║ ╔═══╗ ║║ ╔═══╗ ║╚══╗ ╔══╝║ ╔═══╗ ║║ ╔═══╗ ║
    //    ║ ║      ║ ║   ║ ╚═════╗║ ╚═══╝ ║║ ╚═══╝ ║   ║ ║   ║ ║   ║ ║║ ╚═══╝ ║
    //    ║ ║      ║ ║   ║ ╔═════╝║ ╔═╗ ╔═╝║ ╔═══╗ ║   ║ ║   ║ ║   ║ ║║ ╔═╗ ╔═╝
    // ╔══╝ ╚══╗   ║ ║   ║ ╚═════╗║ ║ ║ ╚═╗║ ║   ║ ║   ║ ║   ║ ╚═══╝ ║║ ║ ║ ╚═╗
    // ╚═══════╝   ╚═╝   ╚═══════╝╚═╝ ╚═══╝╚═╝   ╚═╝   ╚═╝   ╚═══════╝╚═╝ ╚═══╝

    getNodeIterator() {
        return this.getNodeGenerator()();
    }

    // ╔════╗╔═╗╔═══════╗╔═══════╗╔═══════╗╔═══════╗
    // ║ ╔╗ ║║ ║║ ╔═══╗ ║╚╗ ╔══╗ ║║ ╔═════╝║ ╔═════╝
    // ║ ║║ ║║ ║║ ║   ║ ║ ║ ║  ║ ║║ ╚═════╗║ ╚═════╗
    // ║ ║║ ║║ ║║ ║   ║ ║ ║ ║  ║ ║║ ╔═════╝╚═════╗ ║
    // ║ ║║ ╚╝ ║║ ╚═══╝ ║╔╝ ╚══╝ ║║ ╚═════╗╔═════╝ ║
    // ╚═╝╚════╝╚═══════╝╚═══════╝╚═══════╝╚═══════╝

    getNodes(string = this.toString()) {
        return utilityEngine.isFilledString(string) ?
            string.split('.') :
            [];
    }

    // ╔═══════╗╔═══════╗╔═══════╗╔═══════╗╔════╗╔═╗╔═══════╗
    // ║ ╔═════╝╚══╗ ╔══╝║ ╔═══╗ ║╚══╗ ╔══╝║ ╔╗ ║║ ║║ ╔═════╝
    // ║ ╚═════╗   ║ ║   ║ ╚═══╝ ║   ║ ║   ║ ║║ ║║ ║║ ║ ╔═══╗
    // ╚═════╗ ║   ║ ║   ║ ╔═╗ ╔═╝   ║ ║   ║ ║║ ║║ ║║ ║ ╚═╗ ║
    // ╔═════╝ ║   ║ ║   ║ ║ ║ ╚═╗╔══╝ ╚══╗║ ║║ ╚╝ ║║ ╚═══╝ ║
    // ╚═══════╝   ╚═╝   ╚═╝ ╚═══╝╚═══════╝╚═╝╚════╝╚═══════╝

    toString() {
        return this._keyString;
    }
}
